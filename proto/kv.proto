syntax = "proto3";

option go_package = "github.com/zjregee/shardkv/proto";

package shardkv;

service KvService {
  rpc HandleGet (GetArgs) returns (GetReply);
  rpc HandlePut (PutArgs) returns (PutReply);
}

message GetArgs {
  int64  id = 1;
  string key = 2;
}

message GetReply {
  string err          = 1;
  string value        = 2;
  int32  leader_index = 3;
}

message PutArgs {
  int64  id    = 1;
  string key   = 2;
  string value = 3;
}

message PutReply {
  string err          = 1;
  int32  leader_index = 2;
}
